
<div>
    <ul class="breadcrumb">
        <li><a href="#">用户添加</a></li>
        <li><a href="#">群组成员添加</a></li>
    </ul>
</div>
<div class="row">
    <div class="box col-md-6">
        <div class="box-inner">
            <div data-original-title="" class="box-header well">
                <h2>
                    <i class="glyphicon glyphicon-edit"></i>用户清单
                </h2>

                <div class="box-icon">
                    <a class="btn btn-setting btn-round btn-default" href="#"><i
                            class="glyphicon glyphicon-cog"></i></a> <a
                        class="btn btn-minimize btn-round btn-default" href="#"><i
                        class="glyphicon glyphicon-chevron-up"></i></a> <a
                        class="btn btn-close btn-round btn-default" href="#"><i
                        class="glyphicon glyphicon-remove"></i></a>
                </div>
            </div>
            <div class="box-content">
                <table id="usersList"
                       class="table table-striped table-bordered bootstrap-datatable datatable responsive center-text">
                    <thead>
                    <tr>
                        <th class="center-text">id编号</th>
                        <th class="center-text">名字</th>
                        <th class="center-text">昵称</th>
                        <th class="center-text">修改操作</th>
                        <th class="center-text">删除操作</th>
                    </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>


    <div class="box col-md-6">
        <div class="box-inner">
            <div data-original-title="" class="box-header well">
                <h2>
                    <i class="glyphicon glyphicon-edit"></i>群组清单
                </h2>

                <div class="box-icon">
                    <a class="btn btn-setting btn-round btn-default" href="#"><i
                            class="glyphicon glyphicon-cog"></i></a> <a
                        class="btn btn-minimize btn-round btn-default" href="#"><i
                        class="glyphicon glyphicon-chevron-up"></i></a> <a
                        class="btn btn-close btn-round btn-default" href="#"><i
                        class="glyphicon glyphicon-remove"></i></a>
                </div>
            </div>
            <div class="box-content">

                <table id="groupList"
                       class="table table-striped table-bordered bootstrap-datatable datatable responsive center-text">
                    <thead>
                    <tr>
                        <th class="center-text">群组编号</th>
                        <th class="center-text">群组名称</th>
                        <th class="center-text">群组权限值</th>
                        <th class="center-text">群组备注</th>
                        <th class="center-text">删除操作</th>
                    </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>
    <!--/span-->
</div>
<div class="row">
    <div class="box col-md-6">
        <div class="box-inner">
            <div data-original-title="" class="box-header well">
                <h2>
                    <i class="glyphicon glyphicon-edit"></i>用户添加
                </h2>

                <div class="box-icon">
                    <a class="btn btn-setting btn-round btn-default" href="#"><i
                            class="glyphicon glyphicon-cog"></i></a> <a
                        class="btn btn-minimize btn-round btn-default" href="#"><i
                        class="glyphicon glyphicon-chevron-up"></i></a> <a
                        class="btn btn-close btn-round btn-default" href="#"><i
                        class="glyphicon glyphicon-remove"></i></a>
                </div>
            </div>
            <div class="box-content">
                <form id="form" name="form" method="post"
                      action="${contextPath}/user/add">

                    <div class="input-group col-md-4">
						<span class="input-group-addon"><i
                                class="glyphicon glyphicon-user blue"></i></span> <input id="name"
                                                                                         name="name" type="text"
                                                                                         placeholder="请输入用户名"
                                                                                         class="form-control  validate[required,ajax[ajaxUserCheck]]"
                                                                                         data-prompt-position="centerRight">
                    </div>
                    <br/> <br/>
                    <div class="input-group col-md-4">
						<span class="input-group-addon"><i
                                class=" glyphicon glyphicon-lock blue"></i></span> <input id="password"
                                                                                          class="form-control validate[required]"
                                                                                          name="password"
                                                                                          data-prompt-position="centerRight"
                                                                                          type="password"
                                                                                          placeholder="请输入用户密码">
                    </div>
                    <br/> <br/>
                    <div class="input-group col-md-4">
						<span class="input-group-addon"><i
                                class="glyphicon glyphicon-eye-open blue"></i></span> <input
                            id="repassword" data-prompt-position="centerRight"
                            name="repassword"
                            class="form-control re-password validate[required,equals[password]]"
                            type="password" placeholder="请确认用户密码">
                    </div>
                    <br/> <br/>
                    <div class="input-group col-md-4">
						<span class="input-group-addon"><i
                                class="glyphicon glyphicon-user blue"></i></span> <input id="nickname"
                                                                                         name="nickname"
                                                                                         data-prompt-position="centerRight"
                                                                                         class="form-control validate[required]"
                                                                                         type="text"
                                                                                         placeholder="请输入昵称">
                    </div>
                    <br/> <br/>
                    <div class="input-group col-md-4">
						<span class="input-group-addon"><i
                                class="glyphicon glyphicon-user blue"></i></span> <input id="power"
                                                                                         name="power"
                                                                                         data-prompt-position="centerRight"
                                                                                         class="form-control validate[required]"
                                                                                         type="text"
                                                                                         placeholder="请输入权限值，0为默认值">
                    </div>
                    <br/> <br/>

                    <div class="control-group">
                        <div class="controls">
                            <label class="control-label" for="selectError">性别:</label> <select
                                name="sex" id="selectError" data-rel="chosen">
                            <option value="0" selected="selected">男&nbsp;&nbsp;</option>
                            <option value="1">女&nbsp;&nbsp;</option>
                        </select>
                        </div>
                    </div>
                    <br/>
                    <div class="input-group col-md-4">
						<span class="input-group-addon"><i
                                class="glyphicon glyphicon-bookmark blue"></i></span> <input id="date"
                                                                                             name="birthday"
                                                                                             data-prompt-position="centerRight"
                                                                                             class='form-control validate[required,custom[date],[custom[date],past[${date(),"yyyy-MM-dd"}]]'
                                                                                             type="text"
                                                                                             placeholder="请输入正确格式的出生日期">
                    </div>
                    <br/> <br/>
                    <div class="input-group col-md-4">
						<span class="input-group-addon"><i
                                class="glyphicon glyphicon-envelope blue"></i></span> <input id="email"
                                                                                             name="email"
                                                                                             class="form-control validate[required,custom[email]]"
                                                                                             data-prompt-position="centerRight"
                                                                                             type="text"
                                                                                             placeholder="请输入邮箱">
                    </div>
                    <br/> <br/>
                    <div class="input-group col-md-4">
						<span class="input-group-addon"><i
                                class="glyphicon glyphicon-briefcase blue"></i></span> <input
                            id="mobile" name="mobile"
                            class="form-control validate[required,custom[phone]]"
                            data-prompt-position="centerRight" type="text"
                            placeholder="请输入手机号码">
                    </div>
                    <br/> <br/>
                    <div class="input-group col-md-4">
						<span class="input-group-addon"><i
                                class="glyphicon glyphicon-briefcase blue"></i></span> <input
                            id="telephone" name="telephone"
                            class="form-control validate[required,custom[onlyNumberSp]]"
                            data-prompt-position="centerRight" type="text"
                            placeholder="请输入电话号码">
                    </div>
                    <br/> <br/>
                    <div class="input-group col-md-4">
						<span class="input-group-addon"><i
                                class="glyphicon glyphicon-briefcase blue"></i></span> <input id="qq"
                                                                                              name="qq"
                                                                                              data-prompt-position="centerRight"
                                                                                              class="form-control validate[required,custom[onlyNumberSp]]"
                                                                                              type="text"
                                                                                              placeholder="请输入QQ号">
                    </div>
                    <br/>
                    <br>
                    <button type="submit" class="btn btn-default">提交</button>
                </form>
                <br>

            </div>
        </div>
    </div>
    <!--/span-->


    <div class="box col-md-6">
        <div class="box-inner">
            <div data-original-title="" class="box-header well">
                <h2>
                    <i class="glyphicon glyphicon-edit"></i>群组添加
                </h2>

                <div class="box-icon">
                    <a class="btn btn-setting btn-round btn-default" href="#"><i
                            class="glyphicon glyphicon-cog"></i></a> <a
                        class="btn btn-minimize btn-round btn-default" href="#"><i
                        class="glyphicon glyphicon-chevron-up"></i></a> <a
                        class="btn btn-close btn-round btn-default" href="#"><i
                        class="glyphicon glyphicon-remove"></i></a>
                </div>
            </div>
            <div class="box-content">
                <form id="groupform" name="groupform" method="post"
                      action="${contextPath}/group/addMember">

                    <div class="input-group col-md-4">
						<span class="input-group-addon"><i
                                class="glyphicon glyphicon-user blue"></i></span> <input id="name"
                                                                                         name="groupName" type="text"
                                                                                         placeholder="请输入群组英文标识"
                                                                                         class="form-control validate[required,custom[onlyLetterNumber]]"
                                                                                         data-prompt-position="centerRight">
                    </div>
                    <br/> <br/>
                    <div class="input-group col-md-4">
						<span class="input-group-addon"><i
                                class="glyphicon glyphicon-user blue"></i></span> <input id="value"
                                                                                         name="userId"
                                                                                         data-prompt-position="centerRight"
                                                                                         class="form-control validate[required,custom[number]]]"
                                                                                         type="text"
                                                                                         placeholder="请输入用户ID">
                    </div>
                    <br/> <br/>
                    <div class="input-group col-md-4">
						<span class="input-group-addon"><i
                                class="glyphicon glyphicon-user blue"></i></span> <input id="description"
                                                                                         name="power"
                                                                                         data-prompt-position="centerRight"
                                                                                         class="form-control validate[required,custom[number]]"
                                                                                         type="text"
                                                                                         placeholder="请输入用户组内权限值">
                    </div>
                    <br/><br>
                    <div class="input-group col-md-4">
						<span class="input-group-addon"><i
                                class="glyphicon glyphicon-user blue"></i></span> <input id="description"
                                                                                         name="description"
                                                                                         data-prompt-position="centerRight"
                                                                                         class="form-control validate[required]"
                                                                                         type="text"
                                                                                         placeholder="备注">
                    </div>

                    <br/><br>
                    <button type="submit" class="btn btn-default">提交</button>
                </form>
                <br>

            </div>
        </div>
    </div>
    <!--/span-->


</div>
<script type="text/javascript">

    $(document)
            .ready(
                    function () {
                        $("#usersList")
                                .dataTable(
                                        {
                                            "sDom": "<'row'<'col-md-6'f>r>t<'row'<'col-md-12'i><'col-md-12 center-block'p>>",
                                            "sPaginationType": "bootstrap",
                                            "bServerSide": false,
                                            "bDestroy": true,
                                            "bLengthChange": false,// 每行显示记录数
                                            "iDisplayLength": 5,// 每页显示行数
                                            "bFilter": true,// 搜索栏
                                            /* 	"aLengthMenu" : [
                                             [ 10, 25, 50, -1, -1 ],
                                             [ 5, 7, 11, 13, 17 ] ], */
                                            "bProcessing": true,
                                            "sAjaxDataProp": "users",//对象
                                            "sAjaxSource": "${contextPath}/user/list",
                                            "bAutoWidth": false, //自适应宽度
                                            "aoColumns": [{
                                                "mDataProp": "id",//0
                                            }, {
                                                "mDataProp": "name",//1
                                            }, {
                                                "mDataProp": "nickname",//2
                                            }, {
                                                "mDataProp": "id",//10
                                            }, {
                                                "mDataProp": "id",//11
                                            },

                                            ],
                                            "aoColumnDefs": [
                                                {
                                                    "sClass": "center-text",
                                                    "aTargets": [0, 1, 2, 3, 4]
                                                },
                                                {
                                                    "mRender": function (data, type,
                                                                         full) {
                                                        //return "<a class='' href='#'><i class='glyphicon glyphicon-trash icon-white'></i>修改 </a>"
                                                        return "<a onclick=openNotify('setting','/user/preModify/"
                                                                + data
                                                                + "','') class='btn btn-success'><i class=' glyphicon glyphicon-edit icon-white glyphicon-align-center'></i>修改 </a>"

                                                    },
                                                    "aTargets": [3]
                                                },
                                                {
                                                    "mRender": function (data, type,
                                                                         full) {
                                                        return "<a onclick=openNotify('notify','编号为"
                                                                + data
                                                                + "将被删除','/user/delete/"
                                                                + data
                                                                + "')  class='btn btn-danger' href='#'><i class='glyphicon glyphicon-trash icon-white'></i>删除</a>"
                                                    },
                                                    "aTargets": [4]
                                                },],
                                            "oLanguage": {
                                                "sProcessing": "正在加载中......",
                                                "sSearch": "搜索",
                                                "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",
                                                "sInfoFiltered": "数据总共为 _MAX_ 条记录",
                                                "sEmptyTable": "不好意思，没有数据存在！",
                                                "sLengthMenu": "每页显示 _MENU_ 条记录"

                                            }
                                        });

                    }
            );
    $(document)
            .ready(
                    function () {
                        $("#groupList")
                                .dataTable(
                                        {
                                            "sDom": "<'row'<'col-md-6'f>r>t<'row'<'col-md-12'i><'col-md-12 center-block'p>>",
                                            "sPaginationType": "bootstrap",
                                            "bServerSide": false,
                                            "bDestroy": true,
                                            "bLengthChange": false,// 每行显示记录数
                                            "iDisplayLength": 5,// 每页显示行数
                                            "bFilter": false,// 搜索栏
                                            /* 	"aLengthMenu" : [
                                             [ 10, 25, 50, -1, -1 ],
                                             [ 5, 7, 11, 13, 17 ] ], */
                                            "bProcessing": true,
                                            "sAjaxDataProp": "groups",//对象
                                            "sAjaxSource": "${contextPath}/group/list",
                                            "bAutoWidth": false, //自适应宽度
                                            "aoColumns": [{
                                                "mDataProp": "id",//0
                                            }, {
                                                "mDataProp": "name",//1
                                            }, {
                                                "mDataProp": "value",//2
                                            }, {
                                                "mDataProp": "description",//3
                                            }, {
                                                "mDataProp": "id",//11
                                            },

                                            ],
                                            "aoColumnDefs": [

                                                {
                                                    "sClass": "center-text",
                                                    "aTargets": [0, 1, 2, 3, 4]
                                                },
                                                {
                                                    "mRender": function (data, type,
                                                                         full) {
                                                        return "<a onclick=openNotify('notify','编号为"
                                                                + data
                                                                + "将被删除','/group/delete/"
                                                                + data
                                                                + "')  class='btn btn-danger' href='#'><i class='glyphicon glyphicon-trash icon-white'></i>删除</a>"
                                                    },
                                                    "aTargets": [4]
                                                },],
                                            "oLanguage": {
                                                "sProcessing": "正在加载中......",
                                                "sSearch": "搜索",
                                                "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",
                                                "sInfoFiltered": "数据总共为 _MAX_ 条记录",
                                                "sEmptyTable": "不好意思，没有数据存在！",
                                                "sLengthMenu": "每页显示 _MENU_ 条记录"

                                            }
                                        });

                    }
            );
    docReady();
</script>

<link href='${contextPath}/css/validationEngine.jquery.css'
      rel='stylesheet'/>
<script type="text/javascript"
        src="${contextPath}/js/jquery.validationEngine.js"></script>

<script type="text/javascript"
        src="${contextPath}/js/jquery.validationEngine-zh_CN.js"></script>
<script type="text/javascript">
    $("#form").validationEngine({
        autoHidePrompt: true,
        autoHideDelay: 3126
    });
    $("#groupform").validationEngine({
        autoHidePrompt: true,
        autoHideDelay: 3126
    });
</script>



